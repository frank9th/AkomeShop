{% extends 'store/base.html' %}

{% block content %}

	<div class="container"> 
		<h1> User Page </h1>

			<div class="container">
				<h4> Hello! {{request.user}}</h4>
			  <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
			    <div class="col">
			      <div class="p-3 border bg-light">
			      	<h1>{{total_order}}</h1>
			      		<h4>Total Orders</h4>
			      </div>
			    </div>
			    <div class="col">
			      <div class="p-3 border bg-light">
			      	<h1>{{pending}}</h1>
			      		<h4>Pending delivery</h4>
			      </div>
			    </div>
			    <div class="col">
			      <div class="p-3 border bg-light">
			      	<h1>{{delivered}}</h1>
			      	<h4>Delivered Orders</h4>
			      </div>
			    </div>
			    <div class="col">
			      <div class="p-3 border bg-light">
			      	<h1>{{out_delivery}}</h1>
			      	<h4>Out for Delivery </h4>  	
			      </div>
			    </div>
			    </div>
			 </div>
			 <br>
			 <hr>
		</div>

		<!-- table State --->
	
		<div class="row">
			  <div class="col-sm-6">
			    <div class="card">
			      <div class="card-body">
			        <h5 class="card-title">Special title treatment</h5>
			        <a href= "{% url 'order-form' %}" class="btn btn-primary"> Create Order</a>
			        <table class="table table-hover">
					  <thead>
					    <tr>
					      <th scope="col">Customer</th>
					      <th scope="col">Product</th>
					      <th scope="col">Date created</th>
					      <th scope="col">Status</th>
					      <th scope="col">Update</th>
					      <th scope="col">Remove</th>
					    </tr>
					  </thead>
					  <tbody>
					  	{% for order in orders %}
						    <tr>
						      <td>{{order.customer}}</td>
						      <td>{{order.product}}</td>
						      <td>{{order.date_created}}</td>
						      <td>{{order.status}}</td>
						      <td><a class="btn btn-primary" href="{% url 'update_order' order.id %}">Update </a></td>
						      <td><a class="btn btn-danger" href="{% url 'delete_order' order.id %}">Delete</a></td>
						    </tr> 
					    {% endfor %}
					
					  </tbody>

					</table>
			      </div>
			    </div>
			  </div>
			  <div class="col-sm-6">
			    <div class="card">
			      <div class="card-body">
			        <h5 class="card-title">Special title treatment</h5>
			        <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
			        <a href="{% url 'add_customer' %}" class="btn btn-primary">Add Customer</a>
			        <table class="table table-hover">
					  <thead>
					    <tr>
					      <th scope="col">Name</th>
					      <th scope="col">Phone </th>
					      <th scope="col">Email</th>
					    </tr>
					  </thead>
					  <tbody>
					  	{% for customer in customer %}
						    <tr>
						      <td>{{customer.name}}</td>
						      <td>{{customer.email}}</td>
						      <td>{{customer.phone}}</td>
						      <td><a class="btn btn-primary" href="{% url 'edit_customer' customer.id %}">Edit Details</a></td>
						    </tr> 
					    {% endfor %}
					
					  </tbody>

					</table>
			      </div>
			    </div>
			  </div>
			</div>
		
	

{% endblock %}